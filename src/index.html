<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Claude Code Notify</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=DotGothic16&family=M+PLUS+Rounded+1c:wght@400;500;700&family=Press+Start+2P&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="dashboard.css">
    <script type="module" src="/main.js" defer></script>
</head>
<body>
    <div class="pixel-grid"></div>

    <main class="dashboard">
        <!-- „Ç≥„É≥„Éë„ÇØ„Éà„Éò„ÉÉ„ÉÄ„Éº -->
        <header class="dashboard-header compact">
            <div class="header-row">
                <div class="pixel-icon small">
                    <span class="exclaim">!</span>
                </div>
                <div class="header-text">
                    <h1>Claude Code Notify</h1>
                    <p class="version" id="app-version"></p>
                </div>
            </div>
        </header>

        <!-- „Çø„Éñ„Éä„Éì„Ç≤„Éº„Ç∑„Éß„É≥ -->
        <nav class="tab-nav">
            <button type="button" class="tab-btn active" data-tab="home">
                <span class="tab-icon">üè†</span>
                <span class="tab-label">„Éõ„Éº„É†</span>
            </button>
            <button type="button" class="tab-btn" data-tab="history">
                <span class="tab-icon">üìã</span>
                <span class="tab-label">Â±•Ê≠¥</span>
                <span class="tab-badge hidden" id="unread-badge">0</span>
            </button>
            <button type="button" class="tab-btn" data-tab="settings">
                <span class="tab-icon">‚öô</span>
                <span class="tab-label">Ë®≠ÂÆö</span>
            </button>
            <button type="button" class="tab-btn" data-tab="export">
                <span class="tab-icon">‚Üó</span>
                <span class="tab-label">Âá∫Âäõ</span>
            </button>
        </nav>

        <!-- „Çø„Éñ„Ç≥„É≥„ÉÜ„É≥„ÉÑ -->
        <div class="tab-contents">
            <!-- „Éõ„Éº„É†„Çø„Éñ -->
            <div class="tab-content active" id="tab-home">
                <section class="status-card">
                    <div class="status-indicator" id="broker-status">
                        <span class="status-dot"></span>
                        <span class="status-text">Êé•Á∂öÁ¢∫Ë™ç‰∏≠...</span>
                    </div>
                    <div class="status-detail">
                        <span class="label">MQTT Broker</span>
                        <span class="value">localhost:1883</span>
                    </div>
                </section>

                <section class="guide-section">
                    <div class="section-header">
                        <span class="pixel-marker"></span>
                        <h2>„Çª„ÉÉ„Éà„Ç¢„ÉÉ„Éó</h2>
                    </div>
                    <ol class="setup-steps">
                        <li class="step">
                            <span class="step-num">1</span>
                            <div class="step-content">
                                <span class="step-title">Ë®≠ÂÆö„Çí„Ç®„ÇØ„Çπ„Éù„Éº„Éà</span>
                                <span class="step-desc">„ÄåÂá∫Âäõ„Äç„Çø„Éñ„Åã„ÇâZIP„Éï„Ç°„Ç§„É´„Çí‰øùÂ≠ò</span>
                            </div>
                        </li>
                        <li class="step">
                            <span class="step-num">2</span>
                            <div class="step-content">
                                <span class="step-title">WSL/Linux„ÅßÂÆüË°å</span>
                                <span class="step-desc">install.sh„ÅßClaude Code„Å´ÈÄ£Êê∫</span>
                            </div>
                        </li>
                        <li class="step">
                            <span class="step-num">3</span>
                            <div class="step-content">
                                <span class="step-title">ÈÄöÁü•„ÇíÂèó„ÅëÂèñ„Çã</span>
                                <span class="step-desc">„Çø„Çπ„ÇØÂÆå‰∫ÜÊôÇ„Å´„Éá„Çπ„ÇØ„Éà„ÉÉ„ÉóÈÄöÁü•</span>
                            </div>
                        </li>
                    </ol>
                </section>
            </div>

            <!-- Â±•Ê≠¥„Çø„Éñ -->
            <div class="tab-content" id="tab-history">
                <section class="history-panel">
                    <div class="section-header">
                        <span class="pixel-marker"></span>
                        <h2>ÈÄöÁü•Â±•Ê≠¥</h2>
                    </div>
                    <div class="history-controls">
                        <div class="select-wrapper">
                            <select id="session-filter" class="session-filter">
                                <option value="">„Åô„Åπ„Å¶</option>
                            </select>
                            <span class="select-arrow">‚ñº</span>
                        </div>
                        <div class="history-actions">
                            <button type="button" class="icon-btn" id="mark-all-read" title="„Åô„Åπ„Å¶Êó¢Ë™≠">
                                <span>‚úì</span>
                            </button>
                            <button type="button" class="icon-btn" id="clear-history" title="„ÇØ„É™„Ç¢">
                                <span>‚úï</span>
                            </button>
                        </div>
                    </div>
                    <div class="history-list" id="history-list">
                        <!-- ÂãïÁöÑ„Å´ËøΩÂä† -->
                    </div>
                    <div class="history-empty" id="history-empty">
                        <span class="empty-icon">üì≠</span>
                        <p>ÈÄöÁü•„ÅØ„ÅÇ„Çä„Åæ„Åõ„Çì</p>
                    </div>
                </section>
            </div>

            <!-- Ë®≠ÂÆö„Çø„Éñ -->
            <div class="tab-content" id="tab-settings">
                <section class="settings-card">
                    <div class="section-header">
                        <span class="pixel-marker"></span>
                        <h2>ÈÄöÁü•ÊñπÊ≥ï</h2>
                    </div>

                    <div class="settings-list">
                        <label class="setting-item">
                            <div class="setting-info">
                                <span class="setting-title">WindowsÈÄöÁü•„Éê„Éº</span>
                                <span class="setting-desc">„Éá„Çπ„ÇØ„Éà„ÉÉ„ÉóÂè≥‰∏ã„Å´„Éà„Éº„Çπ„ÉàÈÄöÁü•„ÇíË°®Á§∫</span>
                            </div>
                            <div class="toggle-switch">
                                <input type="checkbox" id="toast-enabled" checked>
                                <span class="toggle-slider"></span>
                            </div>
                        </label>

                        <label class="setting-item">
                            <div class="setting-info">
                                <span class="setting-title">ÈÄöÁü•Èü≥</span>
                                <span class="setting-desc">ÈÄöÁü•ÊôÇ„Å´Èü≥„ÇíÈ≥¥„Çâ„Åô</span>
                            </div>
                            <div class="toggle-switch">
                                <input type="checkbox" id="sound-enabled" checked>
                                <span class="toggle-slider"></span>
                            </div>
                        </label>

                        <label class="setting-item">
                            <div class="setting-info">
                                <span class="setting-title">„Çø„Çπ„ÇØ„Éê„ÉºÁÇπÊªÖ</span>
                                <span class="setting-desc">„Çø„Çπ„ÇØ„Éê„Éº„Éú„Çø„É≥„ÇíÁÇπÊªÖ„Åï„Åõ„Çã</span>
                            </div>
                            <div class="toggle-switch">
                                <input type="checkbox" id="flash-enabled" checked>
                                <span class="toggle-slider"></span>
                            </div>
                        </label>

                        <label class="setting-item">
                            <div class="setting-info">
                                <span class="setting-title">Êú™Ë™≠„Éê„ÉÉ„Ç∏</span>
                                <span class="setting-desc">„Çø„Çπ„ÇØ„Éê„Éº„Å´Êú™Á¢∫Ë™çÊï∞„ÇíË°®Á§∫</span>
                            </div>
                            <div class="toggle-switch">
                                <input type="checkbox" id="badge-enabled" checked>
                                <span class="toggle-slider"></span>
                            </div>
                        </label>

                        <label class="setting-item">
                            <div class="setting-info">
                                <span class="setting-title">„Éà„É¨„Ç§„Ç¢„Ç§„Ç≥„É≥ÁÇπÊªÖ</span>
                                <span class="setting-desc">ÊúÄÂ∞èÂåñÊôÇ„Å´„Éà„É¨„Ç§„Ç¢„Ç§„Ç≥„É≥„ÇíÁÇπÊªÖ</span>
                            </div>
                            <div class="toggle-switch">
                                <input type="checkbox" id="tray-flash-enabled" checked>
                                <span class="toggle-slider"></span>
                            </div>
                        </label>
                    </div>
                </section>

                <section class="settings-card">
                    <div class="section-header">
                        <span class="pixel-marker"></span>
                        <h2>Èü≥Èáè</h2>
                    </div>

                    <div class="volume-control">
                        <div class="volume-slider-container">
                            <span class="volume-icon low">üîà</span>
                            <input type="range" id="volume" min="0" max="100" value="80" class="volume-slider">
                            <span class="volume-icon high">üîä</span>
                        </div>
                        <div class="volume-value"><span id="volume-display">80</span>%</div>
                    </div>

                    <button type="button" class="test-btn" id="test-sound">
                        <span class="test-icon">‚ñ∂</span>
                        <span class="test-text">„ÉÜ„Çπ„ÉàÂÜçÁîü</span>
                    </button>
                </section>

                <div class="settings-footer">
                    <button type="button" class="save-btn" id="save-btn">
                        Ë®≠ÂÆö„Çí‰øùÂ≠ò
                    </button>
                    <p class="save-status" id="save-status"></p>
                </div>
            </div>

            <!-- „Ç®„ÇØ„Çπ„Éù„Éº„Éà„Çø„Éñ -->
            <div class="tab-content" id="tab-export">
                <section class="config-section">
                    <div class="section-header">
                        <span class="pixel-marker"></span>
                        <h2>Êé•Á∂öË®≠ÂÆö</h2>
                    </div>

                    <div class="form-group">
                        <label for="host">
                            <span class="label-icon">‚ñ∂</span>
                            Windows PC„ÅÆIP„Ç¢„Éâ„É¨„Çπ
                        </label>
                        <div class="input-with-button">
                            <input type="text" id="host" placeholder="192.168.x.x">
                            <button type="button" id="detect-ip" class="btn-secondary">
                                <span class="btn-text">Ëá™ÂãïÊ§úÂá∫</span>
                                <span class="btn-icon">‚ü≥</span>
                            </button>
                        </div>
                        <small class="hint">Claude CodeÂÅ¥„Åã„Çâ„Ç¢„ÇØ„Çª„Çπ„Åß„Åç„ÇãIP„Ç¢„Éâ„É¨„Çπ</small>
                        <div id="ip-status" class="ip-status hidden"></div>
                    </div>
                </section>

                <section class="config-section">
                    <div class="section-header">
                        <span class="pixel-marker"></span>
                        <h2>„Éó„É©„ÉÉ„Éà„Éï„Ç©„Éº„É†ÈÅ∏Êäû</h2>
                    </div>
                    <p class="platform-hint">
                        Claude Code„ÇíÂÆüË°å„Åó„Å¶„ÅÑ„ÇãÁí∞Â¢É„ÇíÈÅ∏Êäû
                    </p>

                    <div class="platform-buttons">
                        <button type="button" id="export-linux-btn" class="btn-primary btn-linux">
                            <span class="btn-content">
                                <span class="export-icon">üêß</span>
                                Linux / WSL
                            </span>
                        </button>
                        <button type="button" id="export-windows-btn" class="btn-primary btn-windows">
                            <span class="btn-content">
                                <span class="export-icon">ü™ü</span>
                                Windows
                            </span>
                        </button>
                    </div>
                    <p class="platform-description">
                        <strong>Linux/WSL:</strong> mosquitto_pub + jq ÂøÖË¶Å<br>
                        <strong>Windows:</strong> ËøΩÂä†‰∏çË¶ÅÔºàÂêåÊ¢±Ôºâ
                    </p>
                </section>

                <div id="export-status" class="status hidden"></div>
            </div>
        </div>

        <footer class="dashboard-footer">
            <div class="pixel-line"></div>
            <div class="footer-actions">
                <button type="button" class="footer-btn" id="minimize-btn">
                    „Éà„É¨„Ç§„Å´Ê†ºÁ¥ç
                </button>
            </div>
        </footer>
    </main>
</body>
</html>
